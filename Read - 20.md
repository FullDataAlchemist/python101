تابع ۲
همان طور که قبلا با توابع آشنا شدید، با استفاده از کلیدواژه def می‌توان یک تابع تعریف کرد و در محدوده بعد از آن هم می‌توان دستوراتی که می‌خواهیم اجرا شوند را نوشت و در آخر با استفاده از کلیدواژه return جواب برگردانده می‌شود. حال در این بخش کمی بیشتر با قابلیت‌های تابع آشنا می‌شوید.

مقدار پیش‌فرض ورودی‌ها
در پایتون می‌توان طوری توابع را تعریف کرد که اگر مقدار بعضی ورودی‌ها داده نشد، مقدار آن‌ها به طور پیش‌فرض تعیین گردد. برای این کار کافیست در هنگام نوشتن نام متغیر در ورودی‌ها مقدار پیش‌فرض آن را نیز جلویش بنویسیم. برای مثال به تابع زیر توجه‌کنید:

```angular2html
>>> def f(a=0, b=1):
...     return a+b
... 
>>> f(2, 3)
5
>>> f(2)
3
>>> f()
1
```

در این مثال ابتدا یک تابع تعریف‌شده که a و ‍‍b را ورودی می‌گیرد و جمع آن‌ها را خروجی می‌دهد. همچنین مقدار پیش‌فرض آن‌ها به ترتیب ۰ و ۱ است. سپس تابع به طور عادی فراخوانی شده و جمع دو عدد ورودی برگردانده شده است.

توضیح بیشتر
در حالتی که تعداد ورودی‌های فرستاده‌شده کم‌تر از تعداد ورودی‌های لازم است، ورودی‌های داده‌شده به ترتیب لحاظ می‌شوند و به ازای دیگر ورودی‌ها مقدار پیش‌فرض در نظر گرفته‌ می‌شود.

در فراخوانی بعدی ابتدا تابع با ۲ فراخوانی شده و b یک در نظر گرفته شده و خروجی ۳ می‌شود. در قسمت بعد به تابع ورودی‌ای داده نمی‌شود و هر دو متغیر مقدار پیش‌فرض خود را می‌گیرند و جواب ۱ می‌شود.

توجه‌ کنید که متغیرهایی که مقدار پیش‌فرض ندارند باید قبل از دیگر متغیرها بیایند؛ در غیر این صورت خطای سینتکس دریافت می‌کنیم. به طور مثال برنامه زیر بعد از اجرا، خطا می‌دهد.

```angular2html
>>> def f(a=0, b):
...     return a+b
```

نکته مهم دیگر در مورد مقادیر پیش‌فرض این است که فقط یک بار مقداردهی و در حافظه ذخیره می‌شوند. سپس در فراخوانی‌های بعدی از آن مقادیر ذخیره‌شده استفاده می‌شود و ممکن است همان مقدار دلخواه را نداشته باشند. برای مثال کد زیر را ببینید:

```
>>> def f(a, L=[]):
...     L.append(a)
...     return L
... 
>>> f(1)
[1]
>>> f(2)
[1, 2]
>>> f(3)
[1, 2, 3]
```

همان طور که می‌بینید ‍‍L یک بار محاسبه می‌شود و سپس در فراخوانی‌های بعدی همان L قبلی تغییر می‌کند. برای اجتناب از بروز این مشکل می‌توانیم مقدار پیش‌فرض متغیر را None در نظر بگیریم، سپس درون تابع در صورتی که مقدار None داشت مقدار دلخواه را به آن ا اختصاص دهیم. یعنی تابع بالا را می‌توان به شکل زیر تغییر داد.


```angular2html
>>> def f(a, L=None):
...     if L == None:
...             L = []
...     L.append(a)
...     return L
... 
>>> f(1)
[1]
>>> f(2)
[2]
>>> f(2,f(1))
[1, 2]
```


ورودی‌های اضافه
فرض کنید می‌خواهیم تابعی بنویسیم که تعداد ورودی‌هایش مشخص نباشد. به عبارتی بتوان به تعداد دلخواه به آن ورودی داد. برای این کار می‌توانیم بعد از همه ورودی‌های تابع کلمه *args را اضافه کنیم. در این صورت همه ورودی‌های اضافی که دریافت می‌شود، در قالب یک tuple درون *args ذخیره می‌شوند. توجه کنید که اگر ورودی اضافی نداشته باشیم اندازه آن صفر می‌شود. برای مثال تابع زیر را ببینید:

```angular2html
>>> def f(a, *args):
...     return args
... 
>>> f(2)
()
>>> f(2, 1)
(1,)
>>> f(1, 2, 3)
(2, 3)
```

توجه‌ کنید که لزومی ندارد اسم ورودی *args باشد و می‌تواند هر چیز دیگری که با * شروع می‌شود باشد.

نوع دیگری از ورودی‌های اضافه که می‌توان به تابع داد، کلیدواژه‌ها هستند. نحوه استفاده از این ورودی‌ها تقریبا مانند لغت‌نامه است. به این صورت که در ورودی تابع به ازای هر متغیر که می‌خواهیم اضافه کنیم ابتدا اسمشو بعد از یک علامت مساوی، مقدارش را می‌نویسیم. در نهایت تمام این متغیرها در قالب یک لغت‌نامه در **kwargs که باید جزء ورودی‌های تابع باشد ریخته می‌شوند.

برای مثال در زیر تابعی تعریف کرده‌ایم که ابتدا args را می‌گیرد و سپس kwargs و آن‌ها را چاپ می‌کند.

```angular2html
>>> def f(*args, **kwargs):
...     print(args)
...     print(kwargs)
... 
>>> f(a=2)
()
{'a': 2}
>>> f(1, a=2)
(1,)
{'a': 2}
>>> f(1, a=2, 2)
  File "<stdin>", line 1
SyntaxError: positional argument follows keyword argument
```

همان طور که می‌بینید اگر **kwargs بعد از ‍‍*args تعریف شود، حتما باید تمام ورودی‌های عادی ابتدا وارد شوند و در غیر این صورت مانند مثال آخر خطای سینتکسی دریافت خواهیم‌ کرد.

برای درک عملکرد **kwargs به مثال زیر توجه کنید:

```
>>> def printUsers(**users):
...     for name,age in users.items():
...         print(f"{name} is {age} years old")
...
>>> printUsers(ali=21, mamadreza=18, mahdi=22)
'ali is 21 years old'
'mamadreza is 18 years old'
'mahdi is 22 years old'
```


نام عضوی که لغت‌نامه درون آن ریخته می‌شود مانند *args مهم نیست. فقط باید با ** شروع شود. اما استاندارد توابع پایتون این است که این دو را به همین صورت نام‌گذاری کنیم.

دسته‌بندی و باز کردن
فرض کنید لیستی از مقادیر مختلف دارید که می‌خواهید تک تک مقادیر آن را به یک تابع بدهید. به طور کلی با استفاده از کاراکتر * می‌توان یک لیست یا یک چندتایی یا ... را از حالت بسته‌بندی خارج کرد. به مثال زیر توجه کنید:


```angular2html
>>> print(*[1, 2, 3])
1 2 3
>>> print(*(1, 2, 3))
1 2 3
>>> print(*{'a': 1, 'b': 2, 'c': 3})
a b c
```

استفاده از کاراکتر * می‌توان مقادیر یک لیست را با فاصله در یک خط چاپ کرد. همین‌طور با توجه به خط پنجم اگر از * برای باز کردن لغت‌نامه استفاده کنیم، کلیدهای آن در نظر گرفته می‌شود. اگر بخواهیم یک لغت‌نامه را به صورت kwargs به یک تابع بدهیم کافی است از کاراکتر ** به جای * استفاده کنیم. به مثال‌های زیر توجه کنید:

مثال ۱
فرض کنید تابعی به‌نام mean وجود دارد که به تعداد دلخواه ورودی گرفته و میانگین آن‌ها را خروجی ‌می‌دهد. لیستی از اعداد وجود دارد که می‌خواهیم آن‌‌ها را به mean بدهیم. برای ای کار به این صورت عمل می‌کنیم:

```angular2html
>>> def mean(*numbers):
...     return sum(numbers)/len(numbers)
...
>>> data = [1, 2, 3, 4, 5]
>>> mean(*data)
3.0
```

مثال ۲
این بار فرض کنید تابعی به‌نام people وجود دارد ورودی‌هایی از نوع kwargs گرفته و تمامی آن‌ها را با یک قالب مشخص چاپ می‌کند یک لغت‌نامه وجود دارد که می‌خواهیم مقادیر آن‌ را به people بدهیم. به این صورت عمل می‌کنیم:


```angular2html
>>> def people(**people):
...     for name, job in people.items():
...         print(f'{name} is a {job}')
...
>>> data = {'mohamad': 'teacher', 'samad': 'worker'}
>>> people(**data)
'mohamad is a teacher'
'samad is a worker'
```

