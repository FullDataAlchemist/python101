مقدمات رشته

چرا String؟
می‌توان گفت Stringها از پرطرفدارترین typeها در پایتون هستند. با استفاده از رشته‌ها می‌توان کارهای بسیاری را با کمک دستورات کوتاه انجام‌ داد. این امر باعث می‌شود قادر باشیم بسیاری از کارهای پیچیده‌ را به سادگی انجام دهیم. به همین علت در این دوره یک فصل کامل را به String اختصاص داده‌ایم.

تعریف کردن String
برای تعریف کردن رشته در پایتون می‌توانید رشته‌ای که می‌خواهید را درون " یا ' قرار دهید. هم‌چنین خروجی دستور input() (که آن را پیش از این و برای ورودی گرفتن معرفی کرده‌ایم) نیز String است. می توانید رشته‌ها را برابر با مقدار یک متغیر قرار دهید. به مثال‌های زیر از این سه نوع معرفی رشته توجه کنید :

```angular2html
s = "Hello "
t = '!'
name = input()
print(s + name + t)
```

نکته مهم دیگر درباره رشته‌ها در پایتون این است که immutable هستند، یعنی نمی‌توانیم مقدار آن را بعد از ساختن تغییر دهیم. برای تغییر دادن مقدار داخل یک متغیر رشته‌ای باید رشته‌ای جدید ساخته و مقدار رشته قبلی را مساوی رشته جدید قرار دهیم. برای مثال در زبان C می‌توان هر کارکتر از یک رشته را تغییر داد ولی در پایتون این امر امکان‌پذیر نیست، در پایتون تنها می‌توانید کل رشته را مجددا مقداردهی کنید.


عملگرهای String
در این‌جا به تعدادی از عملگرهای کاربردی‌تر رشته اشاره می‌کنیم که در صورت کار با رشته معمولاً به آن‌ها نیاز خواهیم‌داشت.


| عملکرد |عملگر  |
| :---        |    :----:   |
| دو رشته را به هم چسبانده (concat) و بر می‌گرداند | + |
| یک رشته را به تعداد مشخصی پشت سرهم گذاشته و بر می‌گرداند| * |
| اگر رشته قبل از آن در رشته بعد از آن موجود باشد True و در غیر این صورت False بر می‌گرداند | in |
|دقیقا برعکس عملگر in کار می‌کند | not in |

برای درک این موضوع به مفسر زیر دقت کنید :

```angular2html
>>> s = 'salam'
>>> t = 'ali'
>>> s + t
'salamali'
>>> s * 3
'salamsalamsalam'
>>> 'ai' in s
False
>>> 'al' in s
True
>>> 'ai' not in s
True
>>> 'al' not in s
False
```

#روش‌های دسترسی به خانه‌های String
۱. دسترسی به یک خانه
با استفاده از s[i] می‌توان به خانه iام رشته s دسترسی داشت و مقدار آن را خواند. توجه کنید که شماره‌گذاری اندیس‌ها در پایتون 0-based است؛ یعنی اولین حرف رشته‌ی s برابر با s[0] است. برای درک بیشتر به مثال زیر توجه کنید :

```
>>> s = 'mokar'
>>> s[0]
m
>>> s[2]
k
>>> s[5]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: string index out of range
>>> s[0] = 'b'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
```

توجه

عضو  iام در عملگر [i] باید در رشته قبل از خودش موجود باشد، وگرنه IndexError می‌دهد.  به این علت که رشته immutable است نمی‌توانیم عضو iام را تغییر دهیم.

۲. دسترسی به چند خانه

با استفاده از عملگر [:] چنین چیزی امکان‌پذیر است. این عملگر دو عدد صحیح l و r درون خود می‌گیرد و رشته‌ای را که از پشت هم قرار دادن عضو lام تاrام (به صورت بسته باز، یا همان بازه [l, r)) به دست می‌آید را خروجی می‌دهد. همچنین اگر l را ورودی ندهیم به طور پیش‌فرض آن را صفر در نظر می‌گیرد و اگر r را ورودی ندهیم آن را به اندازه طول‌ رشته در نظر می‌گیرد. اگر هم یکی از این‌ اندیس‌ها مقدار منفی داشته باشد به جای آن مقدار، طول رشته منهای اندیس قرار می‌گیرد. برای درک بیشتر به این مثال‌ها توجه کنید :

```angular2html
>>> s = 'salam'
>>> s[1:4]
'ala'
>>> s[1:]
'alam'
>>> s[:3]
'sal'
>>> s[4:3]
''
>>> s[:]
'salam'
>>> s[-3:-1]
'la'
>>> s[-3:]
'lam'
>>> s[:-1]
'sala'
>>> s[-3:4]
'la'
>>> s[-4:3]
'al'
```

توابع String
این جا به توضیح برخی توابع‌ پرکاربرد رشته می‌پردازیم (این توابع متعلق به خود string هستند و بعد از رشته و . نام هرکدام از آن‌ها را می‌نویسیم).

```angular2html
>>> 'Ali23'.lower()
'ali23'
>>> 'Ali23'.upper()
'ALI23'
>>> 'Ali23'.isalpha()
False
>>> 'Ali'.isalpha()
True
>>> 'Ali23'.isdigit()
False
>>> '23'.isdigit()
True
>>> 'Ali23'.zfill(2)
'Ali23'
>>> 'Ali23'.zfill(8)
'000Ali23'
```

```angular2html
>>> 'ahmad'.count('ma')
1
>>> 'ahmad'.count('ali')
0
>>> 'aaaa'.count('aa')
2
>>> 'ahmad'.find('ali')
-1
>>> 'ahmad'.find('ma')
2
>>> 'Hello world!'.split(' ')
['Hello', 'world!']
>>> 'Hello world!'.split('l')
['He', '', 'o wor', 'd!']
>>> 'Hello world!'.replace('l', 'salam!')
'Hesalam!salam!o worsalam!d!'
>>> 'Hello world!'.replace('h', 'salam!')
'Hello world!'
>>> 'HeLLo'.replace('LL', 'll')
Hello
```

تابع len()

یکی دیگر از توابع پر کاربرد در رشته‌ها، تابع len() است. این تابع در ورودی یک رشته می‌گیرد و در خروجی تعداد کاراکترهای آن رشته را برمی‌گرداند

```angular2html
>>> s = "ali"
>>> len(s)
3
>>> len("salam")
5
```

یادآوری تغییرناپذیری String
تمام توابعی که در بالا ذکر شدند روی رشته اعمال نمی‌شوند و نتیجه را فقط برمی‌گردانند. اگر خواستار اعمال تغییرات روی رشته هستید باید رشته اصلی را مقداردهی کنید. برای درک این موضوع به مثال زیر دقت کنید :

```angular2html
>>> s = 'mokar'
>>> s.replace('m', 'l').upper()
LOKAR
>>> s
mokar
>>> s = s.replace('m', 'l').upper()
>>> s
LOKAR
```

توابع removeprefix و removesuffix
این دو تابع در ورژن ۳.۹ به پایتون اضافه شدند و با استفاده از آن‌ها می‌توانید قسمت ابتدایی یا انتهایی یک رشته را حذف کنید. به مثال زیر دقت کنید :

```angular2html
>>> s = 'spartacus'
>>> s.removeprefix('s')
'partacus'
>>> s.removeprefix('spar')
'tacus'
>>> s.removeprefix('part')
'spartacus'
>>> s.removesuffix('s')
'spartacu'
>>> s.removesuffix('acus')
'spart'
>>> s.removesuffix('tacu')
'spartacus'
```

همان‌طور که مشاهده می‌کنید؛ اگر زیررشته‌ی موردنظر در ابتدا یا انتهای رشته، وجود نداشته باشد؛ کل رشته بعنوان پاسخ بازگردانده خواهد شد (یعنی این زیررشته، زیررشته‌ی ابتدایی یا انتهاییِ رشته‌ی موردنظر نیست).
